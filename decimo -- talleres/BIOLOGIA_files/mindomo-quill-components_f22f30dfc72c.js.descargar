!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ImageResize=e():t.ImageResize=e()}(this,function(){return r={},o.m=n=[function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var o=n(22),n="object"==typeof self&&self&&self.Object===Object&&self,n=o||n||Function("return this")();t.exports=n},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}var r=n(76),i=n(77),s=n(78),a=n(79),n=n(80);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=n,t.exports=o},function(t,e,n){var o=n(8);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(16),r=n(65),i=n(88),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(s&&s in Object(t)?r:i)(t)}},function(t,e,n){var o=n(74);t.exports=function(t,e){t=t.__data__;return o(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(t,e,n){n=n(11)(Object,"create");t.exports=n},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function e(t){(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=t.overlay,this.img=t.img,this.options=t.options,this.requestUpdate=t.onUpdate}},function(t,e,n){var o=n(21);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var o=n(49),r=n(66);t.exports=function(t,e){e=r(t,e);return o(e)?e:void 0}},function(t,e,n){var o=n(13),r=n(31);t.exports=function(t){return null!=t&&r(t.length)&&!o(t)}},function(t,e,n){var o=n(5),r=n(0);t.exports=function(t){if(!r(t))return!1;t=o(t);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){n=n(11)(n(1),"Map");t.exports=n},function(t,e,n){n=n(1).Symbol;t.exports=n},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var o=n(10),r=n(8);t.exports=function(t,e,n){(void 0===n||r(t[e],n))&&(void 0!==n||e in t)||o(t,e,n)}},function(t,e,n){var c=n(42),l=n(18),f=n(47),p=n(52),d=n(0),h=n(33),y=n(26);t.exports=function o(r,i,s,a,u){r!==i&&f(i,function(t,e){var n;d(t)?(u=u||new c,p(r,i,e,s,o,a,u)):(void 0===(n=a?a(y(r,e),t,e+"",r,i,u):void 0)&&(n=t),l(r,e,n))},h)}},function(t,e,n){var o=n(27),r=n(90),i=n(91);t.exports=function(t,e){return i(r(t,e,o),t+"")}},function(t,e,n){var o=n(11),n=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},function(e,t,n){(function(t){t="object"==typeof t&&t&&t.Object===Object&&t;e.exports=t}).call(t,n(108))},function(t,e,n){n=n(89)(Object.getPrototypeOf,Object);t.exports=n},function(t,e){var o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&o.test(t))&&-1<t&&t%1==0&&t<e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var o=n(48),r=n(2),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,o=o(function(){return arguments}())?o:function(t){return r(t)&&i.call(t,"callee")&&!s.call(t,"callee")};t.exports=o},function(t,e){var n=Array.isArray;t.exports=n},function(t,i,s){(function(t){var e=s(1),n=s(103),o="object"==typeof i&&i&&!i.nodeType&&i,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,e=r&&r.exports===o?e.Buffer:void 0,n=(e?e.isBuffer:void 0)||n;t.exports=n}).call(i,s(14)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,e,n){var o=n(50),r=n(55),n=n(87),n=n&&n.isTypedArray,o=n?r(n):o;t.exports=o},function(t,e,n){var o=n(44),r=n(51),i=n(12);t.exports=function(t){return i(t)?o(t,!0):r(t)}},function(t,e,n){"use strict";e.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed var(--borderSepColorHover)"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"var(--borderSepColorHover)",border:"1px solid var(--borderSepColor)",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"var(--editorMenuBackgroundColor)",color:"var(--strokeAndTextColor)",border:"1px solid var(--borderSepColor)",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"var(--strokeAndTextColor)",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid var(--borderSepColorHover)",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"var(--strokeAndTextColor)",stroke:"var(--strokeAndTextColor)",strokeWidth:"1.2"}}},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.d(e,"a",function(){return o});var o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,n(9).a),s);function s(){var t,n;!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n=i(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(o))),n.onCreate=function(){n.display=document.createElement("div"),Object.assign(n.display.style,n.options.displayStyles),n.overlay.appendChild(n.display)},n.onDestroy=function(){},n.onUpdate=function(){var t,e;n.display&&n.img&&(t=n.getCurrentSize(),n.display.innerHTML=t.join(" &times; "),120<t[0]&&30<t[1]?Object.assign(n.display.style,{right:"4px",bottom:"4px",left:"auto"}):"right"==n.img.style.float?(e=n.display.getBoundingClientRect(),Object.assign(n.display.style,{right:"auto",bottom:"-"+(e.height+4)+"px",left:"-"+(e.width+4)+"px"})):(e=n.display.getBoundingClientRect(),Object.assign(n.display.style,{right:"-"+(e.width+4)+"px",bottom:"-"+(e.height+4)+"px",left:"auto"})))},n.getCurrentSize=function(){return[n.img.width,Math.round(n.img.width/n.img.naturalWidth*n.img.naturalHeight)]},i(n,t)}},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.d(e,"a",function(){return o});var o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,n(9).a),s);function s(){var t,n;!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n=i(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(o))),n.onCreate=function(){n.boxes=[],n.addBox("nwse-resize"),n.addBox("nesw-resize"),n.addBox("nwse-resize"),n.addBox("nesw-resize"),n.positionBoxes()},n.onDestroy=function(){n.setCursor("")},n.positionBoxes=function(){var t=-parseFloat(n.options.handleStyles.width)/2+"px",e=-parseFloat(n.options.handleStyles.height)/2+"px";[{left:t,top:e},{right:t,top:e},{right:t,bottom:e},{left:t,bottom:e}].forEach(function(t,e){Object.assign(n.boxes[e].style,t)})},n.addBox=function(t){var e=document.createElement("div");Object.assign(e.style,n.options.handleStyles),e.style.cursor=t,e.style.width=n.options.handleStyles.width+"px",e.style.height=n.options.handleStyles.height+"px",e.addEventListener("mousedown",n.handleMousedown,!1),n.overlay.appendChild(e),n.boxes.push(e)},n.handleMousedown=function(t){n.dragBox=t.target,n.dragStartX=t.clientX,n.preDragWidth=n.img.width||n.img.naturalWidth,n.setCursor(n.dragBox.style.cursor),document.addEventListener("mousemove",n.handleDrag,!1),document.addEventListener("mouseup",n.handleMouseup,!1)},n.handleMouseup=function(){n.setCursor(""),document.removeEventListener("mousemove",n.handleDrag),document.removeEventListener("mouseup",n.handleMouseup)},n.handleDrag=function(t){n.img&&(t=t.clientX-n.dragStartX,n.dragBox===n.boxes[0]||n.dragBox===n.boxes[3]?n.img.width=Math.round(n.preDragWidth-t):n.img.width=Math.round(n.preDragWidth+t),n.requestUpdate())},n.setCursor=function(e){[document.body,n.img].forEach(function(t){t.style.cursor=e})},i(n,t)}},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.d(e,"a",function(){return o});var e=n(106),s=n.n(e),e=n(105),a=n.n(e),e=n(107),u=n.n(e),e=n(9),n=window.Quill.imports.parchment,c=new n.Attributor.Style("float","float"),l=new n.Attributor.Style("margin","margin"),f=new n.Attributor.Style("display","display"),o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,e.a),p);function p(){var t,r;!function(t){if(!(t instanceof p))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r=i(this,(t=p.__proto__||Object.getPrototypeOf(p)).call.apply(t,[this].concat(n))),r.onCreate=function(){r.toolbar=document.createElement("div"),Object.assign(r.toolbar.style,r.options.toolbarStyles),r.overlay.appendChild(r.toolbar),r._defineAlignments(),r._addToolbarButtons()},r.onDestroy=function(){},r.onUpdate=function(){},r._defineAlignments=function(){r.alignments=[{icon:s.a,apply:function(){f.add(r.img,"inline"),c.add(r.img,"left"),l.add(r.img,"0 1em 1em 0")},isApplied:function(){return"left"==c.value(r.img)}},{icon:a.a,apply:function(){f.add(r.img,"block"),c.remove(r.img),l.add(r.img,"auto")},isApplied:function(){return"auto"==l.value(r.img)}},{icon:u.a,apply:function(){f.add(r.img,"inline"),c.add(r.img,"right"),l.add(r.img,"0 0 1em 1em")},isApplied:function(){return"right"==c.value(r.img)}}]},r._addToolbarButtons=function(){var o=[];r.alignments.forEach(function(t,e){var n=document.createElement("span");o.push(n),n.innerHTML=t.icon,n.addEventListener("click",function(){o.forEach(function(t){return t.style.background="var(--editorMenuBackgroundColor)"}),t.isApplied()?(c.remove(r.img),l.remove(r.img),f.remove(r.img)):(r._selectButton(n),t.apply()),r.requestUpdate()}),Object.assign(n.style,r.options.toolbarButtonStyles),0<e&&(n.style.borderLeftWidth="0"),Object.assign(n.children[0].style,r.options.toolbarButtonSvgStyles),t.isApplied()&&r._selectButton(n),r.toolbar.appendChild(n)})},r._selectButton=function(t){t.style.background="var(--btnHoverBackgroundColor)"},i(r,t)}},function(t,e,n){var o=n(17),r=n(20),i=n(64),s=n(102),r=r(function(t){return t.push(void 0,i),o(s,void 0,t)});t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),r=n.n(o),i=n(34),s=n(35),o=n(37),n=n(36),a={DisplaySize:s.a,Toolbar:o.a,Resize:n.a},n=function e(t){var o=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this),this.initializeModules=function(){o.removeModules(),o.modules=o.moduleClasses.map(function(t){return new(a[t]||t)(o)}),o.modules.forEach(function(t){t.onCreate()}),o.onUpdate()},this.onUpdate=function(){o.repositionElements(),o.modules.forEach(function(t){t.onUpdate()})},this.removeModules=function(){o.modules.forEach(function(t){t.onDestroy()}),o.modules=[]},this.handleClick=function(t){o.options.readOnly&&o.options.readOnly(t)||(t.target&&t.target.tagName&&"IMG"===t.target.tagName.toUpperCase()?o.img!==t.target&&(o.img&&o.hide(),o.show(t.target)):o.img&&o.hide())},this.show=function(t){o.img=t,o.showOverlay(),o.initializeModules()},this.showOverlay=function(){o.overlay&&o.hideOverlay(),o.quill.setSelection(null),o.setUserSelect("none"),document.addEventListener("keydown",o.checkImage,!0),o.quill.root.addEventListener("input",o.checkImage,!0),o.overlay=document.createElement("div"),Object.assign(o.overlay.style,o.options.overlayStyles),o.quill.root.parentNode.appendChild(o.overlay),o.repositionElements()},this.hideOverlay=function(){o.overlay&&(o.quill.root.parentNode.removeChild(o.overlay),o.overlay=void 0,document.removeEventListener("keydown",o.checkImage),o.quill.root.removeEventListener("input",o.checkImage),o.setUserSelect(""))},this.repositionElements=function(){var t,e,n;o.overlay&&o.img&&(t=o.quill.root.parentNode,e=o.img.getBoundingClientRect(),n=t.getBoundingClientRect(),Object.assign(o.overlay.style,{left:e.left-n.left-1+t.scrollLeft+"px",top:e.top-n.top+t.scrollTop+"px",width:e.width+"px",height:e.height+"px"}))},this.hide=function(){o.hideOverlay(),o.removeModules(),o.img=void 0},this.setUserSelect=function(e){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(t){o.quill.root.style[t]=e,document.documentElement.style[t]=e})},this.checkImage=function(t){o.img&&(46!=t.keyCode&&8!=t.keyCode||(window.Quill.find(o.img)&&window.Quill.find(o.img).deleteAt(0)),(o.hide(),t.preventDefault(),t.stopImmediatePropagation()))},this.quill=t;t=!1;n.modules&&(t=n.modules.slice()),this.options=r()({},n,i.a),!1!==t&&(this.options.modules=t),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.moduleClasses=this.options.modules,this.modules=[]};e.default=n,window.Quill&&window.Quill.register("modules/imageResize",n)},function(t,e,n){function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}var r=n(67),i=n(68),s=n(69),a=n(70),n=n(71);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=n,t.exports=o},function(t,e,n){function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}var r=n(81),i=n(82),s=n(83),a=n(84),n=n(85);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=n,t.exports=o},function(t,e,n){function o(t){t=this.__data__=new r(t);this.size=t.size}var r=n(3),i=n(93),s=n(94),a=n(95),u=n(96),n=n(97);o.prototype.clear=i,o.prototype.delete=s,o.prototype.get=a,o.prototype.has=u,o.prototype.set=n,t.exports=o},function(t,e,n){n=n(1).Uint8Array;t.exports=n},function(t,e,n){var l=n(54),f=n(28),p=n(29),d=n(30),h=n(24),y=n(32),v=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n,o=p(t),r=!o&&f(t),i=!o&&!r&&d(t),s=!o&&!r&&!i&&y(t),a=o||r||i||s,u=a?l(t.length,String):[],c=u.length;for(n in t)!e&&!v.call(t,n)||a&&("length"==n||i&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||h(n,c))||u.push(n);return u}},function(t,e,n){var r=n(10),i=n(8),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];s.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var o=n(0),r=Object.create,n=function(t){if(!o(t))return{};if(r)return r(t);i.prototype=t;t=new i;return i.prototype=void 0,t};function i(){}t.exports=n},function(t,e,n){n=n(63)();t.exports=n},function(t,e,n){var o=n(5),r=n(2);t.exports=function(t){return r(t)&&"[object Arguments]"==o(t)}},function(t,e,n){var o=n(13),r=n(75),i=n(0),s=n(98),a=/^\[object .+?Constructor\]$/,u=Function.prototype,n=Object.prototype,u=u.toString,n=n.hasOwnProperty,c=RegExp("^"+u.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||r(t))&&(o(t)?c:a).test(s(t))}},function(t,e,n){var o=n(5),r=n(31),i=n(2),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&r(t.length)&&!!s[o(t)]}},function(t,e,n){var r=n(0),i=n(25),s=n(86),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return s(t);var e,n=i(t),o=[];for(e in t)("constructor"!=e||!n&&a.call(t,e))&&o.push(e);return o}},function(t,e,n){var d=n(18),h=n(57),y=n(58),v=n(59),b=n(72),g=n(28),x=n(29),m=n(100),_=n(30),j=n(13),w=n(0),O=n(101),S=n(32),C=n(26),A=n(104);t.exports=function(t,e,n,o,r,i,s){var a,u,c,l=C(t,n),f=C(e,n),p=s.get(f);p?d(t,n,p):((a=void 0===(c=i?i(l,f,n+"",t,e,s):void 0))&&(p=!(u=x(f))&&_(f),e=!u&&!p&&S(f),c=f,u||p||e?c=x(l)?l:m(l)?v(l):p?h(f,!(a=!1)):e?y(f,!(a=!1)):[]:O(f)||g(f)?g(c=l)?c=A(l):w(l)&&!j(l)||(c=b(f)):a=!1),a&&(s.set(f,c),r(c,f,o,i,s),s.delete(f)),d(t,n,c))}},function(t,e,n){var o=n(99),r=n(21),n=n(27),n=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:n;t.exports=n},function(t,e){t.exports=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}},function(t,e){t.exports=function(e){return function(t){return e(t)}}},function(t,e,n){var o=n(43);t.exports=function(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}},function(t,i,s){(function(t){var e=s(1),n="object"==typeof i&&i&&!i.nodeType&&i,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,e=o&&o.exports===n?e.Buffer:void 0,r=e?e.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();e=t.length,e=r?r(e):new t.constructor(e);return t.copy(e),e}}).call(i,s(14)(t))},function(t,e,n){var o=n(56);t.exports=function(t,e){e=e?o(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,e){t.exports=function(t,e){var n=-1,o=t.length;for(e=e||Array(o);++n<o;)e[n]=t[n];return e}},function(t,e,n){var c=n(45),l=n(10);t.exports=function(t,e,n,o){var r=!n;n=n||{};for(var i=-1,s=e.length;++i<s;){var a=e[i],u=o?o(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),(r?l:c)(n,a,u)}return n}},function(t,e,n){n=n(1)["__core-js_shared__"];t.exports=n},function(t,e,n){var o=n(20),u=n(73);t.exports=function(a){return o(function(t,e){var n=-1,o=e.length,r=1<o?e[o-1]:void 0,i=2<o?e[2]:void 0,r=3<a.length&&"function"==typeof r?(o--,r):void 0;for(i&&u(e[0],e[1],i)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var s=e[n];s&&a(t,s,n,r)}return t})}},function(t,e){t.exports=function(u){return function(t,e,n){for(var o=-1,r=Object(t),i=n(t),s=i.length;s--;){var a=i[u?s:++o];if(!1===e(r[a],a,r))break}return t}}},function(t,e,n){var a=n(19),u=n(0);t.exports=function t(e,n,o,r,i,s){return u(e)&&u(n)&&(s.set(n,e),a(e,n,void 0,t,s),s.delete(n)),e}},function(t,e,n){var o=n(16),n=Object.prototype,i=n.hasOwnProperty,s=n.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{var o=!(t[a]=void 0)}catch(t){}var r=s.call(t);return o&&(e?t[a]=n:delete t[a]),r}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var o=n(7);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e){t.exports=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t}},function(t,e,n){var o=n(7),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(7),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var o=n(7);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var o=n(46),r=n(23),i=n(25);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:o(r(t))}},function(t,e,n){var r=n(8),i=n(12),s=n(24),a=n(0);t.exports=function(t,e,n){if(!a(n))return!1;var o=typeof e;return!!("number"==o?i(n)&&s(e,n.length):"string"==o&&e in n)&&r(n[e],t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var n=n(61),o=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(4),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,t=o(e,t);return!(t<0||(t==e.length-1?e.pop():r.call(e,t,1),--this.size,0))}},function(t,e,n){var o=n(4);t.exports=function(t){var e=this.__data__,t=o(e,t);return t<0?void 0:e[t][1]}},function(t,e,n){var o=n(4);t.exports=function(t){return-1<o(this.__data__,t)}},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var o=n(40),r=n(3),i=n(15);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(t,e,n){var o=n(6);t.exports=function(t){t=o(this,t).delete(t);return this.size-=t?1:0,t}},function(t,e,n){var o=n(6);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(6);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var r=n(6);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,i,s){(function(t){var e=s(22),n="object"==typeof i&&i&&!i.nodeType&&i,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,r=o&&o.exports===n&&e.process,e=function(){try{return o&&o.require&&o.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=e}).call(i,s(14)(t))},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(e,n){return function(t){return e(n(t))}}},function(t,e,n){var u=n(17),c=Math.max;t.exports=function(i,s,a){return s=c(void 0===s?i.length-1:s,0),function(){for(var t=arguments,e=-1,n=c(t.length-s,0),o=Array(n);++e<n;)o[e]=t[s+e];e=-1;for(var r=Array(s+1);++e<s;)r[e]=t[e];return r[s]=a(o),u(i,this,r)}}},function(t,e,n){var o=n(53),o=n(92)(o);t.exports=o},function(t,e){var i=Date.now;t.exports=function(n){var o=0,r=0;return function(){var t=i(),e=16-(t-r);if(r=t,0<e){if(800<=++o)return arguments[0]}else o=0;return n.apply(void 0,arguments)}}},function(t,e,n){var o=n(3);t.exports=function(){this.__data__=new o,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(3),i=n(15),s=n(41);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(t,e),this.size=n.size,this}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var o=n(12),r=n(2);t.exports=function(t){return r(t)&&o(t)}},function(t,e,n){var o=n(5),r=n(23),i=n(2),s=Function.prototype,n=Object.prototype,a=s.toString,u=n.hasOwnProperty,c=a.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=o(t))return!1;t=r(t);if(null===t)return!0;t=u.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&a.call(t)==c}},function(t,e,n){var r=n(19),n=n(62)(function(t,e,n,o){r(t,e,n,o)});t.exports=n},function(t,e){t.exports=function(){return!1}},function(t,e,n){var o=n(60),r=n(33);t.exports=function(t){return o(t,r(t))}},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>'},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}],o.c=r,o.i=function(t){return t},o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=39);function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});
;
var quillMention=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw s}}}}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d=9,m=13,f=27,p=38,v=40;function g(t,e,n){var i=t;return Object.keys(e).forEach((function(t){n.indexOf(t)>-1?i.dataset[t]=e[t]:delete i.dataset[t]})),i}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(r,t);var n=l(r);function r(t,i){var o;return e(this,r),(o=n.call(this,t,i)).clickHandler=null,o}return i(r,[{key:"attach",value:function(){var t=this;h(s(r.prototype),"attach",this).call(this),this.clickHandler=function(e){var n=new Event("mention-clicked",{bubbles:!0,cancelable:!0});n.value=o({},t.domNode.dataset),n.event=e,window.dispatchEvent(n),e.preventDefault()},this.domNode.addEventListener("click",this.clickHandler,!1)}},{key:"detach",value:function(){h(s(r.prototype),"detach",this).call(this),this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}}],[{key:"create",value:function(t){var e=h(s(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerHTML=t.denotationChar,e.appendChild(n),e.innerHTML+=t.value,r.setDataValues(e,t)}},{key:"setDataValues",value:function(t,e){var n=t;return Object.keys(e).forEach((function(t){n.dataset[t]=e[t]})),n}},{key:"value",value:function(t){return t.dataset}}]),r}(t.import("blots/embed"));C.blotName="mention",C.tagName="span",C.className="mention",t.register(C);var y=function(){function n(t,i){var s=this;e(this,n),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(t){return"".concat(t.value)},renderLoading:function(){return null},onSelect:function(t,e){e(t)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[m]},o(this.options,i,{dataAttributes:Array.isArray(i.dataAttributes)?this.options.dataAttributes.concat(i.dataAttributes):this.options.dataAttributes}),this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();s.onSelectionChange(e)}))})),t.keyboard.addBinding({key:d},this.selectHandler.bind(this)),t.keyboard.bindings[d].unshift(t.keyboard.bindings[d].pop());var a,r=c(this.options.selectKeys);try{for(r.s();!(a=r.n()).done;){var l=a.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(t){r.e(t)}finally{r.f()}t.keyboard.bindings[m].unshift(t.keyboard.bindings[m].pop()),t.keyboard.addBinding({key:f},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:p},this.upHandler.bind(this)),t.keyboard.addBinding({key:v},this.downHandler.bind(this))}return i(n,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=0;e<this.mentionList.childNodes.length;e+=1)this.mentionList.childNodes[e].classList.remove("selected");if(-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),t)){var n=this.mentionList.childNodes[this.itemIndex].offsetHeight,i=this.mentionList.childNodes[this.itemIndex].offsetTop,o=this.mentionContainer.scrollTop,s=o+this.mentionContainer.offsetHeight;i<o?this.mentionContainer.scrollTop=i:i>s-n&&(this.mentionContainer.scrollTop+=i-s+n)}}},{key:"getItemData",value:function(){var t=this.mentionList.childNodes[this.itemIndex].dataset.link,e=void 0!==t,n=this.mentionList.childNodes[this.itemIndex].dataset.target;return e&&(this.mentionList.childNodes[this.itemIndex].dataset.value='<a href="'.concat(t,'" target=').concat(n||this.options.linkTarget,">").concat(this.mentionList.childNodes[this.itemIndex].dataset.value)),this.mentionList.childNodes[this.itemIndex].dataset}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var t=this;if(-1!==this.itemIndex){var e=this.getItemData();e.disabled||(this.options.onSelect(e,(function(e){t.insertItem(e)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,n){var i,o=e;null!==o&&(this.options.showDenotationChar||(o.denotationChar=""),n?i=this.cursorPos:(i=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,t.sources.USER)),this.quill.insertEmbed(i,this.options.blotName,o,t.sources.USER),this.options.spaceAfterInsert?(this.quill.insertText(i+1," ",t.sources.USER),this.quill.setSelection(i+2,t.sources.USER)):this.quill.setSelection(i+1,t.sources.USER),this.hideMentionList())}},{key:"onItemMouseEnter",value:function(t){if(!this.suspendMouseEnter){var e=Number(t.target.dataset.index);Number.isNaN(e)||e===this.itemIndex||(this.itemIndex=e,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(t){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(t){0===t.button&&(t.preventDefault(),t.stopImmediatePropagation(),this.itemIndex=t.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(t){t.preventDefault(),t.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var t=document.createElement("div");t.className="ql-mention-loading",t.innerHTML=this.options.renderLoading(),this.mentionContainer.append(t),this.showMentionList()}}},{key:"removeLoading",value:function(){var t=this.mentionContainer.getElementsByClassName("ql-mention-loading");t.length>0&&t[0].remove()}},{key:"renderList",value:function(t,e,n){if(e&&e.length>0){this.removeLoading(),this.values=e,this.mentionList.innerHTML="";for(var i=-1,o=0;o<e.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",e[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):-1===i&&(i=o),s.dataset.index=o,s.innerHTML=this.options.renderItem(e[o],n),e[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=t,this.mentionList.appendChild(g(s,e[o],this.options.dataAttributes))}this.itemIndex=i,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var t,e=0;do{e++,t=(this.itemIndex+e)%this.values.length;var n="true"===this.mentionList.childNodes[t].dataset.disabled;if(e===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var t,e=0;do{e++,t=(this.itemIndex+this.values.length-e)%this.values.length;var n="true"===this.mentionList.childNodes[t].dataset.disabled;if(e===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(t,e){return t+this.mentionContainer.offsetHeight+e.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(t,e){return!this.options.fixMentionsToQuill&&t+this.mentionContainer.offsetWidth+e.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(t){this.isOpen!==t&&(t?this.options.onOpen():this.options.onClose(),this.isOpen=t)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var t=this,e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else s+=n.left;if(this.containerRightIsNotVisible(s,e)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;s=e.width-a}if("top"===this.options.defaultMenuOrientation){if((o=this.options.fixMentionsToQuill?-1*(i+this.options.offsetTop):n.top-(i+this.options.offsetTop))+e.top<=0){var r=this.options.offsetTop;this.options.fixMentionsToQuill?r+=e.height:r+=n.bottom,o=r}}else if(this.options.fixMentionsToQuill?o+=e.height:o+=n.bottom,this.containerBottomIsNotVisible(o,e)){var l=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(l+=n.top),o=l-i}o>=0?this.options.mentionContainerClass.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-bottom")),t.mentionContainer.classList.remove("".concat(e,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-top")),t.mentionContainer.classList.remove("".concat(e,"-bottom"))})),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var t=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i={left:e.left+n.left,top:e.top+n.top,width:0,height:n.height},o=this.options.fixMentionsToQuill?e:i,s=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var r=o.right;this.mentionContainer.style.right="".concat(r,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var l=o.top,h=document.documentElement.clientHeight-(o.top+o.height),u=this.mentionContainer.offsetHeight<=h,c=this.mentionContainer.offsetHeight<=l;"bottom"===("top"===this.options.defaultMenuOrientation&&c?"top":"bottom"===this.options.defaultMenuOrientation&&u||h>l?"bottom":"top")?(s=o.top+o.height,u||(this.mentionContainer.style.height=h-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-bottom")),t.mentionContainer.classList.remove("".concat(e,"-top"))}))):(s=o.top-this.mentionContainer.offsetHeight,c||(this.mentionContainer.style.height=l-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-top")),t.mentionContainer.classList.remove("".concat(e,"-bottom"))}))),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var t=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(t,this.cursorPos-t)}},{key:"onSomethingChange",value:function(){var t=this,e=this.quill.getSelection();if(null!=e){this.cursorPos=e.index;var n,i=this.getTextBeforeCursor(),o=(n=i,this.options.mentionDenotationChars.reduce((function(t,e){var i=n.lastIndexOf(e);return i>t.mentionCharIndex?{mentionChar:e,mentionCharIndex:i}:{mentionChar:t.mentionChar,mentionCharIndex:t.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),s=o.mentionChar,a=o.mentionCharIndex;if(function(t,e,n){return t>-1&&!(n&&0!==t&&!e[t-1].match(/\s/g))}(a,i,this.options.isolateCharacter)){var r=this.cursorPos-(i.length-a);this.mentionCharPos=r;var l=i.substring(a+s.length);if(l.length>=this.options.minChars&&function(t,e){return e.test(t)}(l,this.getAllowedCharsRegex(s))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var h={abandoned:!1};this.existingSourceExecutionToken=h,this.options.source(l,(function(e,n){h.abandoned||(t.existingSourceExecutionToken=null,t.renderList(s,e,n))}),s)}else this.hideMentionList()}else this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(t){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(t)}},{key:"onTextChange",value:function(t,e,n){"user"===n&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(t){t&&0===t.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(t){var e=this.quill.getSelection(!0);this.quill.insertText(e.index,t),this.quill.blur(),this.quill.focus()}}]),n}();return t.register("modules/mention",y),y}(Quill);
;
'use strict';(function(g,f){function q(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function t(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}var x=f("Utils");f("Managers");f("Session");var u=function(){function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,b,c){b&&e(a.prototype,b);c&&e(a,c);return a}}(),v=function d(a,b,c){null===a&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,b);if(void 0===h){if(a=
Object.getPrototypeOf(a),null!==a)return d(a,b,c)}else{if("value"in h)return h.value;b=h.get;return void 0===b?void 0:b.call(c)}};g=Quill.import("attributors/class/font");g.whitelist="arial courier courier-new geneva georgia helvetica times-new-roman times verdana".split(" ");f=Quill.import("attributors/style/size");f.whitelist="8px 9px 10px 11px 12px 13px 14px 15px 16px 17px 18px 19px 20px 22px 24px 26px 28px 30px 32px 34px 36px 38px 40px 42px 60px 72px".split(" ");Quill.register(f,!0);Quill.register(g,
!0);f=Quill.import("formats/link");var m=Quill.import("formats/video"),w=function(a){return x.UrlUtil.getProtocol(a)?a:window.location.protocol+"//"+a};g=function(a){function b(){q(this,b);return r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}t(b,a);u(b,null,[{key:"create",value:function(c){var d=v(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,c);c=w(c);d.setAttribute("src",c);return d}}]);return b}(m);f=function(a){function b(){q(this,b);return r(this,(b.__proto__||
Object.getPrototypeOf(b)).apply(this,arguments))}t(b,a);u(b,null,[{key:"create",value:function(c){var d=v(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,c);c=w(c);d.setAttribute("href",c);d.setAttribute("rel","nofollow");return d}}]);return b}(f);Quill.register(f,!0);Quill.register(g,!0);g=Quill.import("blots/block/embed");class k extends g{constructor(a,b){super(a,b)}static create(a){const b=super.create(a);b.setAttribute("data-src",a.dataSrc);a.dataPath&&b.setAttribute("data-path",
a.dataPath);b.src=a.src;return b}static value(a){const {src:b,path:c}=a.dataset;return{src:a.src,dataSrc:b,dataPath:c}}}k.blotName="imageMindomo";k.className="image-mindomo";k.tagName="img";Quill.register({"formats/imageMindomo":k});g=Quill.import("blots/embed");class l extends g{static create(a){let b=super.create();b.innerHTML=a.innerHTML;b.href=a.href;a.style&&b.setAttribute("style",a.style);a.width&&(b.style.width=a.width+"px");return b}static value(a){var {href:b,innerHTML:c}=a,d=a.getAttribute("style");
a=a.getAttribute("width");return{href:b,innerHTML:c,style:d,width:a}}}l.blotName="mindomoImagePreview";l.className="mindomo-prev-image";l.tagName="A";Quill.register(l);let n=Quill.import("blots/inline");class p extends n{constructor(a,b){super(a,b);const c=this.replaceWith(new n(n.create()));c.children.forEach(d=>{d.attributes&&d.attributes.copy(c)});Object.keys(a.attributes).forEach(function(d){"style"!=a.attributes[d].name&&c.format(a.attributes[d].name,a.attributes[d].value)});this.remove();return c}}
p.blotName="mindomoCustomAttributes";p.tagName="FONT";Quill.register(p)})(EXMOD.module("EXUtils"),EXMOD.module);
;
